name: ğŸ“„ LaTeX to PDF Compiler

on: 
  push: 
    branches: - main
jobs: 
  build_and_deploy: 
    runs-on: ubuntu-latest
permissions: 
  contents: write

steps:
  - name: âš™ï¸ Checkout repository code
    uses: actions/checkout@v4

  - name: ğŸ“ Compile LaTeX to PDF using `pdflatex`
    uses: xu-cheng/latex-action@v2
    with:
      root_file: main.tex
      compiler: latexmk

  - name: ğŸ“¤ Commit compiled PDF back to repository
    uses: stefanzweifel/git-auto-commit-action@v5
    with:
      files: 'main.pdf'
      commit_message: 'Docs: Automated PDF compilation of main.tex'
      branch: ${{ github.ref_name }}
